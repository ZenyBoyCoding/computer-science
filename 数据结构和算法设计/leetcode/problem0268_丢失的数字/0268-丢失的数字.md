原题：[丢失的数字](https://leetcode-cn.com/problems/missing-number/)

给定一个包含 `[0, n]` 中 `n` 个数的数组 `nums` ，找出 `[0, n]` 这个范围内没有出现在数组中的那个数。

**示例 1：**

```
输入：nums = [3,0,1]
输出：2
解释：n = 3，因为有 3 个数字，所以所有的数字都在范围 [0,3] 内。2 是丢失的数字，因为它没有出现在 nums 中。
```

**示例 2：**

```
输入：nums = [0,1]
输出：2
解释：n = 2，因为有 2 个数字，所以所有的数字都在范围 [0,2] 内。2 是丢失的数字，因为它没有出现在 nums 中。
```

**示例 3：**

```
输入：nums = [9,6,4,2,3,5,7,0,1]
输出：8
解释：n = 9，因为有 9 个数字，所以所有的数字都在范围 [0,9] 内。8 是丢失的数字，因为它没有出现在 nums 中。
```

**示例 4：**

```
输入：nums = [0]
输出：1
解释：n = 1，因为有 1 个数字，所以所有的数字都在范围 [0,1] 内。1 是丢失的数字，因为它没有出现在 nums 中。
```

**提示：**

- `n == nums.length`
- `1 <= n <= 104`
- `0 <= nums[i] <= n`
- `nums` 中的所有数字都 **独一无二**

**进阶：**你能否实现线性时间复杂度、仅使用额外常数空间的算法解决此问题?



**思路**：

方法一：数学的求和公式

将从 `0` 到 `n`的全部整数之和记为`total`，根据高斯求和公式，有：![image-20211106021504666](https://gitee.com/JKcoding/imgs/raw/master/img/202111060215252.png)

将数组`nums` 的元素之和记为 `sum`，则`sum` 比 `total` 少了丢失的一个数字，因此丢失的数字即为 `total` 与 `sum` 之差。

```java
public int missingNumber(int[] nums) {
        int sum = 0, len = nums.length;
        for (int i = 0; i < len; i++) {
            sum += nums[i];
        }
        return len * (len + 1) / 2 - sum;
    }
```

方法二：位运算

1)从0到n全部进行异或运算：`0 ^ 1 ^ 2 ^ 3 ^ ....^ (n - 1) ^ n`，记为 `s1` 【等价`[0, n]`共n + 1个数】

2)从0到n全部进行异或运算：`0 ^ 1 ^ 2 ^ 3 ^ ....^ (n - 1) ^ n`，记为 `s2`   【等于与数组`nums[n]`下标`[0, n)`，因为数组下标最多是`n-1`，所以需要补上`n`，所以直接拿n去和数组下标进行异或就行】

那么 `s1 ^ s2 =  0 ^ 0 ^ 1 ^ 1 ^ 2 ^ 2 ^ 3 ^ 3 ^ ....^ (n - 1) ^ (n - 1) ^ n ^ n`

根据 `m ^ m = 0`， 所以`s1 ^ s2 = 0`

现在从`1)`中拿走一个数， 意味着 `2）`中对应的同样的数剩下来了，最终`s1 ^ s2` 的结果就是`2）`中剩下来的数，也就是`1）`中拿走的数

```java
 public int missingNumber(int[] nums) {
        int res = nums.length;
        for (int i = 0; i < nums.length; i++) {
            res ^= nums[i]; //s1
            res ^= i; //s2
        }
        return res;
    }
```



